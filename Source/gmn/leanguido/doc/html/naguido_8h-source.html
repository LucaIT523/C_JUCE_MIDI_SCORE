<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>leanGUIDO: naguido.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>naguido.h</h1><a href="naguido_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* naGuido.h */</span>
00002 
00003 <span class="preprocessor">#include "<a class="code" href="guido_8h.html">guido.h</a>"</span>
00004 
00005 <span class="keywordtype">int</span> <a class="code" href="lgguido_8cpp.html#a3">na_parseGMNFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename);
00006 <span class="comment">/* call this function with the name of a GMN file to initiate parsing for this file */</span>
00007 
00008 <span class="keywordtype">int</span> <a class="code" href="lgguido_8cpp.html#a2">na_parseGMNFileMode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keywordtype">int</span> mode);
00009 <span class="comment">/* DON'T USE THIS FUNCTION - THIS IS PART OF A FUTURE RELEASE */</span>
00010 <span class="comment">/*  mode determines which tags / events are filtered</span>
00011 <span class="comment">    out. see note.pad for details. */</span>
00012 
00013 
00014 
00015 <span class="comment">/* the following functions signal the beginning and end of a GUIDO segment.</span>
00016 <span class="comment">   note that even for a single voice segment denoted as [...] in the file</span>
00017 <span class="comment">   (without enclosing {...}), these functions are triggered. */</span>
00018 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a10">na_segmInit</a>(<span class="keywordtype">void</span>);
00019 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a11">na_segmExit</a>(<span class="keywordtype">void</span>);
00020 
00021 <span class="comment">/* the following functions signal the beginning and end of voice: */</span>
00022 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a12">na_seqInit</a>(<span class="keywordtype">void</span>);
00023 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a13">na_seqExit</a>(<span class="keywordtype">void</span>);
00024 
00025 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a14">na_seqAppendNote</a>(<span class="keywordtype">int</span> pc, <span class="keywordtype">int</span> oct, <span class="keywordtype">int</span> acc, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durD, <span class="keywordtype">int</span> dots, 
00026                         <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosD);
00027 <span class="comment">/* called after each note that has been completely parsed.</span>
00028 <span class="comment">   pc: pitch class, c=0, cis=1, ..., b=h=11, _=rest=-1, empty=-2</span>
00029 <span class="comment">        NOTE: you should use the NOTE_* constants defined in guido.h when comparing/checking</span>
00030 <span class="comment">                for specific pitch classes</span>
00031 <span class="comment">   oct: octave, as specified in GMN source or carried over from previous note</span>
00032 <span class="comment">   acc: accidentals, natural=0, #=1, &amp;=-1, ##=2, &amp;&amp;=-2, ...</span>
00033 <span class="comment">        NOTE: pitch class and accidental information are independent, </span>
00034 <span class="comment">              i.e., c# -&gt; pc=0, acc=1, NOT pc=1, acc=1</span>
00035 <span class="comment">   durN, durD: specify duration of note as numerator and denominator of a fraction, </span>
00036 <span class="comment">        *3/4 -&gt; durN=3, durD=4</span>
00037 <span class="comment">   dots: dots, e.g., /8 -&gt; durD=1,durN=8,dots=0, /4.. -&gt; durD=1,durN=4,dots=2</span>
00038 <span class="comment">        NOTE: duration value and dots are independent, i.e., /4. gives durN=1, durD=4,</span>
00039 <span class="comment">              NOT durN=3, durD=8</span>
00040 <span class="comment">   durPosN, durPosD: specify relative time position of the note's beginning </span>
00041 <span class="comment">        as numerator and denominator of a fraction, starting at durPosN=0, durPosD=1;</span>
00042 <span class="comment">        e.g., the third note in [c1/4 d/8 e/8] would have durPosD=3, durPosN=8 */</span>
00043 
00044 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a16">na_chordInit</a>(<span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosD);
00045 <span class="comment">/* signals beginning of a chord</span>
00046 <span class="comment">   durPosN, durPosD: specify relative time position of the chord's beginning</span>
00047 <span class="comment">        as numerator and denominator of a fraction, starting at durPosN=0, durPosD=1; */</span>
00048 
00049 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a15">na_chordInitVoice</a>();
00050 <span class="comment">/* signals beginning of a new voice within a chord */</span>
00051 
00052 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a17">na_seqAppendChord</a>(<span class="keywordtype">int</span> voices, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durD, <span class="keywordtype">int</span> dots, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosD);
00053 <span class="comment">/* called after a complete chord has been parsed.</span>
00054 <span class="comment">   voices: number of voices in the chors, e.g., {c1/8,e,g} -&gt; voices=3</span>
00055 <span class="comment">        *3/4 -&gt; durN=3, durD=4</span>
00056 <span class="comment">   durN, durD, dots, durPosN, durPosD: as for na_seqAppendNote */</span>
00057 
00058 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a18">na_tagStart</a>(<span class="keywordtype">char</span>* s, <span class="keywordtype">long</span> <span class="keywordtype">int</span> no, <span class="keywordtype">long</span> <span class="keywordtype">int</span> tagno, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosD);
00059 <span class="comment">/* signals that a tag name has been parsed.</span>
00060 <span class="comment">   s: name of the tag, including the leading '\'</span>
00061 <span class="comment">      NOTE: the string value must be copied if it is to be used after exiting the function</span>
00062 <span class="comment">   no: disambiguifiying numerical postfix, if explicitly specified, 0 else</span>
00063 <span class="comment">        e.g.: \slurBegin:1 -&gt; no=1, \bar -&gt; no=0</span>
00064 <span class="comment">   tagno: reference number of tag, counting starts with 1; this is used to</span>
00065 <span class="comment">        match corresponding na_tagStart and na_tagEnd calls</span>
00066 <span class="comment">   durPosN, durPosD: specify relative time position were the tag occured</span>
00067 <span class="comment">        as numerator and denominator of a fraction, starting at durPosN=0, durPosD=1;</span>
00068 <span class="comment">        e.g., the \slur tag in [c1/4 \slur(d/8 e/8)] would have durPosD=1, durPosN=4 */</span>
00069 
00070 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a19">na_tagEnd</a>(<span class="keywordtype">long</span> <span class="keywordtype">int</span> tagno, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> durPosD,
00071                 <span class="keywordtype">long</span> <span class="keywordtype">int</span> beforeDurPosN, <span class="keywordtype">long</span> <span class="keywordtype">int</span> beforeDurPosD);
00072 <span class="comment">/* signals end of a tag range.</span>
00073 <span class="comment">   tagno: reference number of tag whose range ends here</span>
00074 <span class="comment">   durPosN, durPosD: specify relative time position after the last note in the tag</span>
00075 <span class="comment">        range as numerator and denominator of a fraction;</span>
00076 <span class="comment">        e.g., the call for the \slur tag in [c1/4 \slur(d/8 e/8)] would have</span>
00077 <span class="comment">        durPosD=1, durPosN=2</span>
00078 <span class="comment">   beforeDurPosN,afterDurPosD: same as durPosN, durPosD, but specify rel. time                          position before last note in tag range;</span>
00079 <span class="comment">        e.g., the call for the \slur tag in [c1/4 \slur(d/8 e/8)] would have</span>
00080 <span class="comment">        beforeDurPosD=3, beforeDurPosN=8 */</span>
00081 
00082 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a23">na_tagAdd</a>(<span class="keywordtype">long</span> <span class="keywordtype">int</span> tagno, <span class="keywordtype">int</span> nargs);
00083 <span class="comment">/* signals that a tag argument list has been completely parsed</span>
00084 <span class="comment">   tagno: reference number of tag whose parameter list has been parsed</span>
00085 <span class="comment">   nargs: number of arguments that have been parsed,</span>
00086 <span class="comment">        e.g., \intens&lt;mark="mf",val=0.5&gt; -&gt; narg=2</span>
00087 <span class="comment">   NOTE: information about the parsed tag arguments have to be accessed</span>
00088 <span class="comment">        inside this function, using the na_getTag* functions declared below.</span>
00089 <span class="comment">*/</span>
00090 
00091 
00092 <span class="keywordtype">int</span> <a class="code" href="lgguido_8cpp.html#a24">na_parseError</a>(<span class="keywordtype">long</span> <span class="keywordtype">int</span> lnr, <span class="keywordtype">long</span> <span class="keywordtype">int</span> cnr, <span class="keyword">const</span> <span class="keywordtype">char</span> *msg);
00093 <span class="comment">/* this function is called if the parser encounters an error.</span>
00094 <span class="comment">   lnr and cnr give the line and character number where the parser detected the error,</span>
00095 <span class="comment">   msg is an error message string;</span>
00096 <span class="comment">   it returns a default value of 0 (other values can be used</span>
00097 <span class="comment">   in user implementations to signal, e.g., that the user</span>
00098 <span class="comment">   wants to abort parsing) */</span>
00099 
00100 
00101 <span class="comment">/* the following functions have to be called from within na_tagAdd to</span>
00102 <span class="comment">   get properties and values of the respective tag's parameters</span>
00103 <span class="comment">   n: the number of the tag parameter to be queried, counting starts with 1</span>
00104 <span class="comment">      NOTE: na_tagAdd's narg argument gives the number of parameters </span>
00105 <span class="comment">            and hence the highest valid value of n</span>
00106 <span class="comment">   NOTE: if you want ot keep any information returned by these functions, </span>
00107 <span class="comment">        you have to copy it before exiting function na_tagAdd */</span>
00108 <span class="keywordtype">char</span> <a class="code" href="lgguido_8cpp.html#a4">na_getTagArgType</a>(<span class="keywordtype">int</span> n);
00109 <span class="keywordtype">char</span>* <a class="code" href="lgguido_8cpp.html#a5">na_getTagArgName</a>(<span class="keywordtype">int</span> n);
00110 <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="lgguido_8cpp.html#a6">na_getTagArgInt</a>(<span class="keywordtype">int</span> n);
00111 <a class="code" href="guido_8h.html#a2">T_REAL</a> <a class="code" href="lgguido_8cpp.html#a7">na_getTagArgFloat</a>(<span class="keywordtype">int</span> n);
00112 <span class="keywordtype">char</span>* <a class="code" href="lgguido_8cpp.html#a8">na_getTagArgUnit</a>(<span class="keywordtype">int</span> n);
00113 <span class="keywordtype">char</span>* <a class="code" href="lgguido_8cpp.html#a9">na_getTagArgStr</a>(<span class="keywordtype">int</span> n);
00114 
00115 <span class="comment">/* The following functions are no longer supported and have been included</span>
00116 <span class="comment">    for backward compatibility reasons only. */</span>
00117 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a20">na_tagIntArg</a>(<span class="keywordtype">long</span> <span class="keywordtype">int</span> n);
00118 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a21">na_tagFloatArg</a>(<span class="keywordtype">double</span> r);
00119 <span class="keywordtype">void</span> <a class="code" href="lgguido_8cpp.html#a22">na_tagStrArg</a>(<span class="keywordtype">char</span> *s);
00120 
</pre></div><hr>
Please visit http://www.noteserver.org and http://www.salieri.org/GUIDO for
more information an latest news about GUIDO Notation. Or contact us via email.<br>
