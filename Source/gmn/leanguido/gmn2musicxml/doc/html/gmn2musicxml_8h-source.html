<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GUIDO to MusicXML: gmn2musicxml.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>gmn2musicxml.h</h1><a href="gmn2musicxml_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00009 <span class="preprocessor">#ifndef __gmn2musicxml_h__</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define __gmn2musicxml_h__</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include "../lgchord.h"</span>
00013 <span class="preprocessor">#include "../lgsegment.h"</span>
00014 <span class="preprocessor">#include "<a class="code" href="lgxmlfactory_8h.html">lgxmlfactory.h</a>"</span>
00015 
00016 <span class="preprocessor">#include &lt;sstream&gt;</span>
00017 
00019 <span class="keyword">enum</span>{ 
00020                 <a class="code" href="gmn2musicxml_8h.html#a3a0">tEventTag</a> <span class="comment">/* tag belongs to events */</span>,          
00021             <a class="code" href="gmn2musicxml_8h.html#a3a1">tMeasureTag</a> <span class="comment">/* tag belongs to measure */</span>,
00022         <a class="code" href="gmn2musicxml_8h.html#a3a2">tProcessed</a> <span class="comment">/* tag has already be processed */</span>
00023 };
00024 
00025 
<a name="l00027"></a><a class="code" href="classmXMLLgTag.html">00027</a> <span class="keyword">class </span><a class="code" href="classmXMLLgTag.html">mXMLLgTag</a> : <span class="keyword">public</span> <a class="code" href="classlgTag.html">lgTag</a>
00028 {
00029 <span class="keyword">public</span>:
<a name="l00030"></a><a class="code" href="classmXMLLgTag.html#a0">00030</a>     <a class="code" href="classmXMLLgTag.html#a0">mXMLLgTag</a>( <span class="keywordtype">long</span> <span class="keywordtype">int</span> id ,
00031                    <a class="code" href="classlgEvent.html">lgEvent</a> *pEv ,
00032                <span class="keyword">const</span> <span class="keywordtype">char</span> *nameI ) : <a class="code" href="classlgTag.html">lgTag</a>(id, pEv, nameI )
00033     {
00034                 <span class="comment">// which tag type</span>
00035           <span class="keywordflow">if</span>( !strcmp(nameI, <span class="stringliteral">"\\key"</span>) ||
00036               !strcmp(nameI, <span class="stringliteral">"\\meter"</span>) )
00037           {
00038               <a class="code" href="classmXMLLgTag.html#o0">tagType</a> = <a class="code" href="gmn2musicxml_8h.html#a3a1">tMeasureTag</a>;
00039           }
00040           <span class="keywordflow">else</span>
00041           {
00042               <a class="code" href="classmXMLLgTag.html#o0">tagType</a> = <a class="code" href="gmn2musicxml_8h.html#a3a0">tEventTag</a>;
00043           }
00044     };
00045 
00046     <span class="keyword">virtual</span> string <a class="code" href="classmXMLLgTag.html#a1">toString</a>( <span class="keywordtype">void</span>  );
<a name="l00048"></a><a class="code" href="classmXMLLgTag.html#o0">00048</a>     <span class="keywordtype">int</span> <a class="code" href="classmXMLLgTag.html#o0">tagType</a>;
00049 };
00050 
<a name="l00052"></a><a class="code" href="classmXMLLgChord.html">00052</a> <span class="keyword">class </span><a class="code" href="classmXMLLgChord.html">mXMLLgChord</a> : <span class="keyword">public</span> <a class="code" href="classlgChord.html">lgChord</a>
00053 {
00054 <span class="keyword">public</span>:
<a name="l00055"></a><a class="code" href="classmXMLLgChord.html#a0">00055</a>     <a class="code" href="classmXMLLgChord.html#a0">mXMLLgChord</a>(   <span class="keywordtype">long</span> <span class="keywordtype">int</span> posNum,
00056                  <span class="keywordtype">long</span> <span class="keywordtype">int</span> posDenom) : <a class="code" href="classlgChord.html">lgChord</a>( posNum, posDenom ){};
00057 
00058     <span class="keyword">virtual</span> string <a class="code" href="classmXMLLgChord.html#a1">toString</a>( <a class="code" href="classlgVoice.html">lgVoice</a> *callingSeq = NULL );
00059 };
00060 
00061 
<a name="l00063"></a><a class="code" href="classmXMLLgSequence.html">00063</a> <span class="keyword">class </span><a class="code" href="classmXMLLgSequence.html">mXMLLgSequence</a> : <span class="keyword">public</span> <a class="code" href="classlgSequence.html">lgSequence</a>
00064 {
<a name="l00065"></a><a class="code" href="classmXMLLgSequence.html#r0">00065</a>     <span class="keywordtype">int</span> <a class="code" href="classmXMLLgSequence.html#r0">idI</a>;
<a name="l00066"></a><a class="code" href="classmXMLLgSequence.html#r1">00066</a>         <a class="code" href="classxmlFactory.html">xmlFactory</a> *<a class="code" href="classmXMLLgSequence.html#r1">factory</a>;
00067 <span class="keyword">public</span>:
<a name="l00068"></a><a class="code" href="classmXMLLgSequence.html#a0">00068</a>     <a class="code" href="classmXMLLgSequence.html#a0">mXMLLgSequence</a>(  <span class="keywordtype">long</span> <span class="keywordtype">int</span> posNum,
00069                      <span class="keywordtype">long</span> <span class="keywordtype">int</span> posDenom,
00070                                          <a class="code" href="classxmlFactory.html">xmlFactory</a> *fy) : <a class="code" href="classlgSequence.html">lgSequence</a>( posNum, posDenom )
00071         { 
00072                 <a class="code" href="classmXMLLgSequence.html#r0">idI</a> = -1; 
00073                 <a class="code" href="classmXMLLgSequence.html#r1">factory</a> = fy;
00074           
00075         };
<a name="l00076"></a><a class="code" href="classmXMLLgSequence.html#a1">00076</a>         <span class="keywordtype">void</span> <a class="code" href="classmXMLLgSequence.html#a1">setId</a>( <span class="keywordtype">int</span> id )
00077         {
00078                 <a class="code" href="classmXMLLgSequence.html#r0">idI</a> = id;
00079         }
00080 <span class="comment">//    virtual int cMeasures( void );</span>
00081 
00083 <span class="comment">//    virtual Duration measureStart( int id );</span>
00086 <span class="comment"></span><span class="comment">//    void splitAt( Duration pos);</span>
00088 <span class="comment"></span>    <span class="keyword">virtual</span> string <a class="code" href="classmXMLLgSequence.html#a2">toString</a>( <a class="code" href="classlgVoice.html">lgVoice</a> *callingSeq = NULL );
<a name="l00089"></a><a class="code" href="classmXMLLgSequence.html#a3">00089</a>     <span class="keywordtype">int</span> <a class="code" href="classmXMLLgSequence.html#a3">getStaff</a>( <a class="code" href="classlgEvent.html">lgEvent</a> *ev ){<span class="keywordflow">return</span> <a class="code" href="classmXMLLgSequence.html#r0">idI</a>; };
<a name="l00090"></a><a class="code" href="classmXMLLgSequence.html#a4">00090</a>     <span class="keywordtype">int</span> <a class="code" href="classmXMLLgSequence.html#a4">id</a>( <span class="keywordtype">void</span> )
00091     {<span class="keywordflow">return</span> <a class="code" href="classmXMLLgSequence.html#r0">idI</a>; };
00092     <a class="code" href="classmXMLLgTag.html">mXMLLgTag</a> *<a class="code" href="classmXMLLgSequence.html#a5">first</a>(<span class="keywordtype">char</span> *tagName);
00093 
00095     string <a class="code" href="classmXMLLgSequence.html#a6">measureAttributes</a>( <a class="code" href="classDuration.html">Duration</a> from,
00096                               <a class="code" href="classDuration.html">Duration</a> to );
00098     <a class="code" href="classDuration.html">Duration</a> <a class="code" href="classmXMLLgSequence.html#a7">nextBarStart</a>( <a class="code" href="classDuration.html">Duration</a> barStart,
00099                            <a class="code" href="classDuration.html">Duration</a> curMeterSig,
00100                            <a class="code" href="classDuration.html">Duration</a> &amp;nextMeterSig);
00103     <span class="keywordtype">char</span> <a class="code" href="classmXMLLgSequence.html#a8">splitNextEvent</a>( <a class="code" href="classlgEvent.html">lgEvent</a> *ev, 
00104                                                 <a class="code" href="classDuration.html">Duration</a> pos,
00105                                                 <a class="code" href="classxmlFactory.html">xmlFactory</a> *factory);
00106 
00107 };
00108 
<a name="l00110"></a><a class="code" href="classmXMLLgRest.html">00110</a> <span class="keyword">class </span><a class="code" href="classmXMLLgRest.html">mXMLLgRest</a> : <span class="keyword">public</span> <a class="code" href="classlgRest.html">lgRest</a>
00111 {
00112 <span class="keyword">public</span>:
<a name="l00113"></a><a class="code" href="classmXMLLgRest.html#a0">00113</a>     <a class="code" href="classmXMLLgRest.html#a0">mXMLLgRest</a>( <span class="keywordtype">long</span> <span class="keywordtype">int</span> durNum,
00114                 <span class="keywordtype">long</span> <span class="keywordtype">int</span> durDenom,
00115                 <span class="keywordtype">int</span> cdots,
00116                 <span class="keywordtype">long</span> <span class="keywordtype">int</span> posNum,
00117                 <span class="keywordtype">long</span> <span class="keywordtype">int</span> posDenom) : <a class="code" href="classlgRest.html">lgRest</a>( durNum,
00118                                              durDenom,
00119                                              cdots,
00120                                              posNum,
00121                                              posDenom)
00122         {};
00123     <span class="keyword">virtual</span> string <a class="code" href="classmXMLLgRest.html#a1">toString</a>( <a class="code" href="classlgVoice.html">lgVoice</a> *callingSeq = NULL );
00124 };
00125 
<a name="l00127"></a><a class="code" href="classmXMLLgNote.html">00127</a> <span class="keyword">class </span><a class="code" href="classmXMLLgNote.html">mXMLLgNote</a> : <span class="keyword">public</span> <a class="code" href="classlgNote.html">lgNote</a>
00128 {
00129 <span class="keyword">public</span>:
<a name="l00130"></a><a class="code" href="classmXMLLgNote.html#a0">00130</a>     <a class="code" href="classmXMLLgNote.html#a0">mXMLLgNote</a>( <span class="keywordtype">int</span> pc  ,
00131               <span class="keywordtype">int</span> oct ,
00132               <span class="keywordtype">int</span> acc ,
00133               <span class="keywordtype">long</span> <span class="keywordtype">int</span> durNum,
00134               <span class="keywordtype">long</span> <span class="keywordtype">int</span> durDenom,
00135               <span class="keywordtype">int</span> cdots,
00136               <span class="keywordtype">long</span> <span class="keywordtype">int</span> posNum,
00137               <span class="keywordtype">long</span> <span class="keywordtype">int</span> posDenom) : <a class="code" href="classlgNote.html">lgNote</a>( pc,  
00138                                            oct, 
00139                                            acc, 
00140                                            durNum,
00141                                            durDenom,
00142                                            cdots,
00143                                            posNum,
00144                                            posDenom)
00145     {};
00146     <span class="keyword">virtual</span> string <a class="code" href="classmXMLLgNote.html#a1">toString</a>( <a class="code" href="classlgVoice.html">lgVoice</a> *callingSeq = NULL );
00147 };
00148 
<a name="l00150"></a><a class="code" href="classmXMLLgSegment.html">00150</a> <span class="keyword">class </span><a class="code" href="classmXMLLgSegment.html">mXMLLgSegment</a> :  <span class="keyword">public</span>  <a class="code" href="classlgSegment.html">lgSegment</a>
00151 {
<a name="l00153"></a><a class="code" href="classmXMLLgSegment.html#r0">00153</a>     <span class="keywordtype">int</span> <a class="code" href="classmXMLLgSegment.html#r0">cVoiceI</a>;
00154 <span class="keyword">public</span>:
<a name="l00155"></a><a class="code" href="classmXMLLgSegment.html#a0">00155</a>     <a class="code" href="classmXMLLgSegment.html#a0">mXMLLgSegment</a>( <span class="keywordtype">void</span> ) :   <a class="code" href="classlgSegment.html">lgSegment</a>(new <a class="code" href="classxmlFactory.html">xmlFactory</a>() )
00156     {
00157         <a class="code" href="classmXMLLgSegment.html#r0">cVoiceI</a> = 0;
00158     };
00159 
<a name="l00160"></a><a class="code" href="classmXMLLgSegment.html#a1">00160</a>     <span class="keyword">virtual</span> <a class="code" href="classlgSequence.html">lgSequence</a> *<a class="code" href="classmXMLLgSegment.html#a1">appendSequence</a>( <a class="code" href="classlgSequence.html">lgSequence</a> *seq )
00161         {
00162                 seq = <a class="code" href="classlgSegment.html#a16">lgSegment::appendSequence</a>(seq);
00163                 <a class="code" href="classmXMLLgSequence.html">mXMLLgSequence</a> *temp;
00164                 <a class="code" href="classmXMLLgSegment.html#r0">cVoiceI</a>++;
00165                 temp = dynamic_cast&lt;mXMLLgSequence *&gt;(seq);
00166                 {
00167                         <span class="keywordflow">if</span>( temp )
00168                                 temp-&gt;<a class="code" href="classmXMLLgSequence.html#a1">setId</a>( <a class="code" href="classmXMLLgSegment.html#r0">cVoiceI</a> );
00169                 }
00170                 <span class="keywordflow">return</span> seq;
00171         }
00172 
00173     <span class="keyword">virtual</span> string <a class="code" href="classmXMLLgSegment.html#a2">toString</a>( <a class="code" href="classlgVoice.html">lgVoice</a> *callingSeq = NULL );
00174     <span class="comment">/*    virtual void write( FILE *out );</span>
00175 <span class="comment">    {</span>
00176 <span class="comment">        mXMLLgChord::write( out, NULL );</span>
00177 <span class="comment">    }</span>
00178 <span class="comment">    */</span>
<a name="l00179"></a><a class="code" href="classmXMLLgSegment.html#a3">00179</a>     <span class="keywordtype">void</span> <a class="code" href="classmXMLLgSegment.html#a3">convert</a>( <span class="keywordtype">void</span> )
00180     {
00181         <a class="code" href="classlgChord.html#a10">splitTagRanges</a>(<a class="code" href="classlgSegment.html#p0">factory</a>);
00182     };
00183 };
00184 
00185 
00186 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jul 15 12:28:55 2003 for GUIDO to MusicXML by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
